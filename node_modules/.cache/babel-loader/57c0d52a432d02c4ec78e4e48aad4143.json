{"ast":null,"code":"var _jsxFileName = \"/home/atat-dev/Desktop/VS_CODE/Project _CyberSoft/Mini-Project_CRM/Mini-Project-CRM-FE/src/Component/Modal/UpdateUser_modal/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axiosFetch from \"../../../axios\";\nimport { url } from '../../../axios/domainUrl';\nimport { getUpdateContact_Action, getUpdateStatus_Action } from '../../../reducer/getData.action';\nimport \"./css.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ModalUser = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const inforUser = useSelector(state => {\n    return state.userReducer.dataUserUpdate;\n  });\n  const [users, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    sdt: \"\",\n    address: \"\"\n  });\n  useEffect(() => {\n    const {\n      name,\n      email,\n      sdt,\n      address\n    } = inforUser;\n    let converSDT = sdt === null || sdt === void 0 ? void 0 : sdt.toString();\n    setUser({\n      name: name,\n      email: email,\n      sdt: converSDT,\n      address: address\n    });\n  }, [inforUser]);\n\n  const handleOnchange = async e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...users,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    updateUser();\n  };\n\n  const updateUser = async () => {\n    await axiosFetch(`${url}/${inforUser._id}`, \"PUT\", users).then(res => {\n      console.log(res.data.data.userUpdate);\n      dispatch(getUpdateStatus_Action(res.status)); // dispatch(getUpdateContact_Action(res.data.data.userUpdate))\n\n      alert(res.data.status);\n      const myModal = document.getElementById(\"btn-close2\");\n      myModal.click();\n    }).catch(err => {\n      console.log(err.response);\n      alert(err.response.data.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ModalUser\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade\",\n      id: \"exampleModal1\",\n      tabIndex: -1,\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              id: \"exampleModalLabel\",\n              children: \"Update User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              \"data-bs-dismiss\": \"modal\",\n              \"aria-label\": \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"col-form-label\",\n                  children: \"Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  onChange: handleOnchange,\n                  name: \"name\",\n                  value: users.name || \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"recipient-name\",\n                  className: \"col-form-label\",\n                  children: \"email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"email\",\n                  value: users.email || \"\",\n                  onChange: handleOnchange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"col-form-label\",\n                  children: \"SDT:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"sdt\",\n                  value: users.sdt || \"\",\n                  onChange: handleOnchange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"col-form-label\",\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"address\",\n                  value: users.address || \"\",\n                  onChange: handleOnchange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-secondary\",\n                  \"data-bs-dismiss\": \"modal\",\n                  id: \"btn-close2\",\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary\",\n                  children: \"UPDATE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ModalUser, \"X0uD9WvxQmBElrQNETu55GShUiY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ModalUser;\nexport default ModalUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalUser\");","map":{"version":3,"sources":["/home/atat-dev/Desktop/VS_CODE/Project _CyberSoft/Mini-Project_CRM/Mini-Project-CRM-FE/src/Component/Modal/UpdateUser_modal/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","axiosFetch","url","getUpdateContact_Action","getUpdateStatus_Action","ModalUser","props","dispatch","inforUser","state","userReducer","dataUserUpdate","users","setUser","name","email","sdt","address","converSDT","toString","handleOnchange","e","value","target","handleSubmit","preventDefault","updateUser","_id","then","res","console","log","data","userUpdate","status","alert","myModal","document","getElementById","click","catch","err","response","message"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport axiosFetch from \"../../../axios\";\nimport { url } from '../../../axios/domainUrl';\nimport { getUpdateContact_Action, getUpdateStatus_Action } from '../../../reducer/getData.action';\nimport \"./css.css\";\n\nconst ModalUser = (props) => {\n\n  const dispatch = useDispatch()\n\n  const inforUser = useSelector(state => {\n    return state.userReducer.dataUserUpdate\n  })\n\n  const [users, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    sdt: \"\",\n    address: \"\",\n  })\n\n  useEffect(() => {\n    const { name, email, sdt, address } = inforUser\n    let converSDT = sdt?.toString()\n    setUser({\n      name: name,\n      email: email,\n      sdt: converSDT,\n      address: address,\n    })\n  }, [inforUser])\n\n  const handleOnchange = async (e) => {\n    const { name, value } = e.target;\n    setUser({\n      ...users, [name]: value\n    })\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    updateUser()\n  };\n\n  const updateUser = async () => {\n    await axiosFetch(`${url}/${inforUser._id}`, \"PUT\", users)\n      .then(res => {\n        console.log(res.data.data.userUpdate);\n        dispatch(getUpdateStatus_Action(res.status))\n        // dispatch(getUpdateContact_Action(res.data.data.userUpdate))\n        alert(res.data.status);\n        const myModal = document.getElementById(\"btn-close2\");\n        myModal.click();\n      })\n      .catch(err => {\n        console.log(err.response);\n        alert(err.response.data.message);\n      })\n  }\n\n  return (\n    <div className=\"ModalUser\">\n      <div\n        className=\"modal fade\"\n        id=\"exampleModal1\"\n        tabIndex={-1}\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                Update User\n              </h5>\n              <button\n                type=\"button\"\n                className=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              />\n            </div>\n            <div className=\"modal-body\">\n              <form onSubmit={handleSubmit}>\n                <div className=\"mb-3\">\n                  <label\n                    className=\"col-form-label\"\n                  >\n                    Name:\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    onChange={handleOnchange}\n                    name=\"name\"\n                    value={users.name || \"\"}\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label\n                    htmlFor=\"recipient-name\"\n                    className=\"col-form-label\"\n                  >\n                    email:\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"email\"\n                    value={users.email || \"\"}\n                    onChange={handleOnchange}\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label\n                    className=\"col-form-label\"\n                  >\n                    SDT:\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"sdt\"\n                    value={users.sdt || \"\"}\n                    onChange={handleOnchange}\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label\n                    className=\"col-form-label\"\n                  >\n                    Address:\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"address\"\n                    value={users.address || \"\"}\n                    onChange={handleOnchange}\n                  />\n                </div>\n                <div className=\"modal-footer\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    data-bs-dismiss=\"modal\"\n                    id=\"btn-close2\"\n                  >\n                    Close\n                  </button>\n                  <button type=\"submit\" className=\"btn btn-primary\">\n                    UPDATE\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalUser"]},"metadata":{},"sourceType":"module"}